{"version":3,"sources":["webpack:///register.vue","webpack:///./src/views/register.vue","webpack:///./src/views/register.vue?5fb5","webpack:///./src/views/register.vue?c60e"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA,oBADA;AAEA,QAFA,kBAEA;AAAA;;AACA;AACA,gCADA;AAEA,8BAFA;AAGA,yBAHA;AAIA;AACA,wBADA;AAEA,wBAFA;AAGA,4BAHA;AAIA,wBAJA;AAKA;AALA,aAJA;AAWA;AACA,uBACA,uDADA,CADA;AAIA,uBACA,sDADA,EAEA,sDAFA,CAJA;AAQA,uBACA,uDADA,CARA;AAWA,2BACA,sDADA,CAXA;AAcA,uBACA,sDADA,EACA;AACA;AACA;AACA;AACA,yBAFA,MAGA;AACA;AACA,yBAFA,MAEA;AACA;AACA;AACA,qBAVA,EAUA,eAVA,EADA;AAdA;AAXA;AAwCA,KA3CA;;AA4CA;AACA,oBADA,wBACA,IADA,EACA,CADA,EACA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AADA,uBAIA,IAJA,CAIA;AACA;AACA;AACA;AACA;AACA,yBAFA,MAGA;AACA;AACA;AACA;AADA;AAGA;AACA,qBAhBA,EAgBA;AACA;AACA,qBAlBA;AAmBA,iBAtBA,MAsBA;AACA;AACA;AACA,aA1BA;AA2BA,SA7BA;AA8BA,mBA9BA,uBA8BA,IA9BA,EA8BA;AACA;AACA,SAhCA;AAiCA,kBAjCA,sBAiCA,IAjCA,EAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AADA,mBAIA,IAJA,CAIA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBATA,EASA,IATA;AAUA,iBAnBA,EAmBA;AACA;AACA;AACA,iBAtBA;AAuBA;AACA;AAhEA;AA5CA,G;;;;;;;;AC9BA;AACA,mBAAO,CAAC,GAAif;;AAEzf,gBAAgB,mBAAO,CAAC,CAA4E;AACpG;AACA,EAAE,mBAAO,CAAC,GAAwL;AAClM;AACA,EAAE,mBAAO,CAAC,GAAuR;AACjS;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,IAAI,KAAU,GAAG;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC/BA,yC;;;;;;;ACAA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA,IAAI,KAAU;AACd;AACA;AACA;AACA;AACA,C","file":"9.chunk.js","sourcesContent":["<template>\r\n    <div class=\"layout-content\">\r\n        <p style=\"font-size: 40px;\">欢迎注册 Zebra Science</p>\r\n        <div class=\"layout-content-main\">\r\n            <Form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"100\">\r\n                <FormItem label=\"用户名\" prop=\"name\" >\r\n                    <Input v-model=\"formValidate.name\" placeholder=\"请输入用户名\" class=\"input-select-class\"></Input>\r\n                </FormItem>\r\n                <FormItem label=\"邮箱\" prop=\"mail\" >\r\n                    <Input v-model=\"formValidate.mail\" placeholder=\"请输入邮箱\" class=\"input-select-class\" icon=\"ios-mail\"></Input>\r\n                    <Button type=\"primary\" shape=\"circle\" @click=\"requ_ecode(formValidate.mail)\">{{codeContent}}</Button>\r\n                </FormItem>\r\n                <FormItem label=\"验证码\" prop=\"code\" >\r\n                    <Input v-model=\"formValidate.code\" placeholder=\"验证码\" class=\"input-select-class\"/>\r\n                </FormItem>\r\n                <FormItem label=\"密码\" prop=\"password\">\r\n                    <Input type=\"password\" v-model=\"formValidate.password\" placeholder=\"请输入长度不超过10的密码\" class=\"input-select-class\"/>\r\n                </FormItem>\r\n                <FormItem label=\"确认密码\" prop=\"cpwd\">\r\n                    <Input type=\"password\" v-model=\"formValidate.cpwd\" placeholder=\"请再次输入密码\" class=\"input-select-class\"/>\r\n                </FormItem>\r\n                <FormItem>\r\n                    <Button type=\"primary\" @click=\"handleSubmit('formValidate',formValidate)\" >提交</Button>\r\n                    <Button type=\"primary\" @click=\"handleReset('formValidate')\" style=\"margin-left: 6%\" >重置</Button>\r\n                </FormItem>\r\n            </Form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"register\",\r\n        data () {\r\n            return {\r\n                codeContent:'获取验证码',\r\n                codeCanclick:true,\r\n                totalTime: 60,\r\n                formValidate: {\r\n                    name: '',\r\n                    mail: '',\r\n                    password:'',\r\n                    cpwd: '',\r\n                    code: ''\r\n                },\r\n                ruleValidate: {\r\n                    name: [\r\n                        { required: true, message: '用户名不能为空', trigger: 'blur' }\r\n                    ],\r\n                    mail: [\r\n                        { required: true, message: '邮箱不能为空', trigger: 'blur' },\r\n                        { type: 'email', message: '邮箱格式不正确', trigger: 'blur' }\r\n                    ],\r\n                    code: [\r\n                        { required: true, message: '验证码不能为空', trigger: 'blur' }\r\n                    ],\r\n                    password: [\r\n                        { required: true, message: '密码不能为空', trigger: 'blur' },\r\n                    ],\r\n                    cpwd: [\r\n                        { required: true, message: '密码不能为空', trigger: 'blur' }, {\r\n                        validator:(rule,value,callback)=>{\r\n                            if(value===''){\r\n                                callback(new Error('请再次输入密码'))\r\n                            }\r\n                            else if(value!==this.formValidate.password){\r\n                                callback(new Error('两次输入密码不一致'))\r\n                            }else{\r\n                                callback()\r\n                            }\r\n                        },trigger:'blur'}\r\n                    ]\r\n                },\r\n            }\r\n        },\r\n        methods: {\r\n            handleSubmit (name,f) {\r\n                this.$refs[name].validate((valid) => {\r\n                    if (valid) {\r\n                        this.$Message.success('提交成功!')\r\n                        let params = {'username':f.name,'email':f.mail,'password':f.password,'email_code':f.code}\r\n                        this.$http.post(this.GLOBAL.domain + \"/api/v1/register\",params,{\r\n                            headers:{\r\n                                'Content-Type':\"application/json\",\r\n                            }\r\n                        }).then(function(res){\r\n                            console.log(res);\r\n                            var s = JSON.parse(res.body);\r\n                            if(s[\"state\"]==\"fail\"){\r\n                                alert(s[\"reason\"])\r\n                            }\r\n                            else {\r\n                                alert(\"注册成功！\");\r\n                                this.$router.push({\r\n                                    path: '/'\r\n                                })\r\n                            }\r\n                        },function (res) {\r\n                            console.log(res)\r\n                        });\r\n                    } else {\r\n                        this.$Message.error('表单验证失败!')\r\n                    }\r\n                })\r\n            },\r\n            handleReset (name) {\r\n                this.$refs[name].resetFields()\r\n            },\r\n            requ_ecode(mail){\r\n                if(mail==='' || !this.codeCanclick) return;\r\n                console.log(mail);\r\n                var re=/^([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+\\.[a-zA-Z]{2,3}$/;\r\n                if(re.test(mail)) {\r\n                    let params = {\"email\": mail};\r\n                    //let params = {\"email\":this.formValidate.mail};\r\n                    this.$http.post(this.GLOBAL.domain + \"/api/v1/email_code\", params, {\r\n                        headers: {\r\n                            'Content-Type': \"application/json\",\r\n                        }\r\n                    }).then(function (res) {\r\n                        console.log(res);\r\n                        this.$Message.success('发送成功!');\r\n                        this.codeCanclick = false;\r\n                        this.codeContent = this.totalTime + 's后可重新发送';\r\n                        let clock = window.setInterval(() => {\r\n                            this.totalTime--;\r\n                            this.codeContent = this.totalTime + 's后重新发送';\r\n                            if (this.totalTime < 0) {\r\n                                window.clearInterval(clock);\r\n                                this.codeContent = '重新发送验证码';\r\n                                this.totalTime = 10;\r\n                                this.codeCanclick = true\r\n                            }\r\n                        }, 1000)\r\n                    }, function (res) {\r\n                        console.log(res)\r\n                        alert(\"发送验证码失败！\")\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .layout-content{\r\n        min-height: 480px;\r\n        margin: 40px;\r\n        padding-left: 30%;\r\n        overflow: hidden;\r\n        background: #fff;\r\n\r\n        border-radius: 4px;\r\n    }\r\n    .input-select-class {\r\n        width: 200px;\r\n        padding-bottom:5px;\r\n    }\r\n    .layout-content-main{\r\n        padding: 40px;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// register.vue?5d5884a8","\n/* styles */\nrequire(\"!!../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-b5efaca4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!autoprefixer-loader!less-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!../../node_modules/_iview-loader@1.3.0@iview-loader/index.js??ref--0-1!./register.vue\")\n\nvar Component = require(\"!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!../../node_modules/_iview-loader@1.3.0@iview-loader/index.js??ref--0-1!./register.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b5efaca4\\\"}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!../../node_modules/_iview-loader@1.3.0@iview-loader/index.js??ref--0-1!./register.vue\"),\n  /* scopeId */\n  \"data-v-b5efaca4\",\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"D:\\\\专家科技成果平台\\\\frontend\\\\src\\\\views\\\\register.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] register.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-b5efaca4\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-b5efaca4\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/register.vue\n// module id = 27\n// module chunks = 9","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@1.0.0@vue-style-loader!./~/_css-loader@0.23.1@css-loader!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-b5efaca4\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_autoprefixer-loader@2.1.0@autoprefixer-loader!./~/_less-loader@2.2.3@less-loader!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./~/_iview-loader@1.3.0@iview-loader?{\"prefix\":false}!./src/views/register.vue\n// module id = 524\n// module chunks = 9","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"layout-content\"\n  }, [_c('p', {\n    staticStyle: {\n      \"font-size\": \"40px\"\n    }\n  }, [_vm._v(\"欢迎注册 Zebra Science\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"layout-content-main\"\n  }, [_c('Form', {\n    ref: \"formValidate\",\n    attrs: {\n      \"model\": _vm.formValidate,\n      \"rules\": _vm.ruleValidate,\n      \"label-width\": 100\n    }\n  }, [_c('FormItem', {\n    attrs: {\n      \"label\": \"用户名\",\n      \"prop\": \"name\"\n    }\n  }, [_c('Input', {\n    staticClass: \"input-select-class\",\n    attrs: {\n      \"placeholder\": \"请输入用户名\"\n    },\n    model: {\n      value: (_vm.formValidate.name),\n      callback: function($$v) {\n        _vm.$set(_vm.formValidate, \"name\", $$v)\n      },\n      expression: \"formValidate.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"邮箱\",\n      \"prop\": \"mail\"\n    }\n  }, [_c('Input', {\n    staticClass: \"input-select-class\",\n    attrs: {\n      \"placeholder\": \"请输入邮箱\",\n      \"icon\": \"ios-mail\"\n    },\n    model: {\n      value: (_vm.formValidate.mail),\n      callback: function($$v) {\n        _vm.$set(_vm.formValidate, \"mail\", $$v)\n      },\n      expression: \"formValidate.mail\"\n    }\n  }), _vm._v(\" \"), _c('Button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"shape\": \"circle\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.requ_ecode(_vm.formValidate.mail)\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.codeContent))])], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"验证码\",\n      \"prop\": \"code\"\n    }\n  }, [_c('Input', {\n    staticClass: \"input-select-class\",\n    attrs: {\n      \"placeholder\": \"验证码\"\n    },\n    model: {\n      value: (_vm.formValidate.code),\n      callback: function($$v) {\n        _vm.$set(_vm.formValidate, \"code\", $$v)\n      },\n      expression: \"formValidate.code\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"password\"\n    }\n  }, [_c('Input', {\n    staticClass: \"input-select-class\",\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"请输入长度不超过10的密码\"\n    },\n    model: {\n      value: (_vm.formValidate.password),\n      callback: function($$v) {\n        _vm.$set(_vm.formValidate, \"password\", $$v)\n      },\n      expression: \"formValidate.password\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"确认密码\",\n      \"prop\": \"cpwd\"\n    }\n  }, [_c('Input', {\n    staticClass: \"input-select-class\",\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"请再次输入密码\"\n    },\n    model: {\n      value: (_vm.formValidate.cpwd),\n      callback: function($$v) {\n        _vm.$set(_vm.formValidate, \"cpwd\", $$v)\n      },\n      expression: \"formValidate.cpwd\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', [_c('Button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.handleSubmit('formValidate', _vm.formValidate)\n      }\n    }\n  }, [_vm._v(\"提交\")]), _vm._v(\" \"), _c('Button', {\n    staticStyle: {\n      \"margin-left\": \"6%\"\n    },\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.handleReset('formValidate')\n      }\n    }\n  }, [_vm._v(\"重置\")])], 1)], 1)], 1)])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-loader/node_modules/vue-hot-reload-api\").rerender(\"data-v-b5efaca4\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-b5efaca4\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./~/_iview-loader@1.3.0@iview-loader?{\"prefix\":false}!./src/views/register.vue\n// module id = 537\n// module chunks = 9"],"sourceRoot":""}